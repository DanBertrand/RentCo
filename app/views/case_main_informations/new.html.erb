<section class="section section-top section-full">
	<div class="bg-cover"></div>
	<div class="bg-overlay bg-dark"></div>
	<div class="bg-triangle bg-triangle-light bg-triangle-bottom bg-triangle-left"></div>
	<div class="bg-triangle bg-triangle-light bg-triangle-bottom bg-triangle-right"></div>
	<div id="create_case">
		<div class="container">
      <%
=begin%>
 <%= render "error_messages", resource: resource %> 
<%
=end%>
      <%= form_with(model: @case_main_information, local: true, class: "form-styled bg-white") do |form| %>
        <div class="row justify-content-center align-items-center">
          <div class="col-md-8 col-lg-12">
            <h4 class="text-center mb-4">
              <%= @s_title_document %>
            </h4>
            <p class="text-center text-muted mb-5">
              Veuillez remplir toutes les étapes du formulaire afin d'ouvrir un nouveau dossier
            </p> 
            <fieldset class="col-md-8 col-lg-12">
              <legend>Informations principales relatives au dossier</legend>
              <div class="row">
                <div class="col-md-8 col-lg-8">
                  <div class="field form-group">
                    <%= form.label 'Nom du dossier' %>
                    <div class="input-group">
                      <%= form.text_field :title, autofocus: true, required: true, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-file-invoice"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-8 col-lg-4">
                  <div class="field form-group">
                    <%= form.label 'Référence' %>
                    <div class="input-group">
                      <%= form.text_field :case_reference, autofocus: true, required: true, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-list-ol"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 col-lg-4">
                  <div class="field form-group">
                    <%= form.label 'Numéro de rue' %>
                    <div class="input-group">
                      <%= form.text_field :street_number, autofocus: true, required: true, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-sort-numeric-up-alt"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-8 col-lg-8">
                  <div class="field form-group">
                    <%= form.label 'Rue' %>
                    <div class="input-group">
                      <%= form.text_field :street_name, autofocus: true, required: true, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-road"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 col-lg-4">
                  <div class="field form-group">
                    <%= form.label 'Ville' %>
                    <div class="input-group">
                      <%= form.text_field :city, autofocus: true, required: true, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-city"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-8 col-lg-4">
                  <div class="field form-group">
                    <%= form.label 'Code postal' %>
                    <div class="input-group">
                      <%= form.text_field :zipcode, autofocus: true, required: true, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-map-marker-alt"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-8 col-lg-4">
                  <div class="field form-group">
                    <%= form.label 'Date de visite' %>
                    <div class="input-group">
                      <%= form.date_field :visit_date, autofocus: true, class: "form-control order-1", required: true %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-calendar-alt"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 col-lg-12">
                  <div class="field form-group">
                    <%= form.label 'Description physique' %>
                    <div class="input-group">
                      <%= form.text_area :physical_description, autofocus: true, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-align-left"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-8 col-lg-12">
                  <div class="field form-group">
                    <%= form.label 'Description géographique' %>
                    <div class="input-group">
                      <%= form.text_area :geographical_description, autofocus: true, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-map-marked-alt"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 col-lg-6">
                  <div class="field form-group">
                    <%= form.label 'Type de bien' %>
                    <div class="input-group">
                      <%= form.select(:old_project ,["Maison", "Appartement", "Local commercial"], {required: true}, {class: "custom-select"}) %>
                    </div>
                  </div>
                </div>
                <div class="col-md-8 col-lg-6">
                  <div class="field form-group">
                    <%= form.label 'Type de logement' %><br/>
                    <div class="input-group">
                      <%= form.select(:old_type ,["T1", "T2", "T3", "T4"], { required: true }, {class: "custom-select"})%>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 col-lg-6">
                  <div class="field form-group">
                    <%= form.label 'Surface totale' %>
                    <div class="input-group">
                      <%= form.number_field :old_surface, autofocus: true, required: true, min: 0, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-expand"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-8 col-lg-6">
                  <div class="field form-group">
                    <%= form.label 'Nombre de chambres' %>
                    <div class="input-group">
                      <%= form.number_field :old_rooms_count, autofocus: true, required: true, min: 0, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-bed"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8 col-lg-12">
                  <div class="field form-group">
                    <%= form.label 'Prix' %>
                    <div class="input-group">
                      <%= form.number_field :seller_price, autofocus: true, min: 0, required: true, class: "form-control order-1" %>
                      <div class="input-group-append order-0">
                        <div class="input-group-text">
                          <i class="fas fa-euro-sign"></i>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <%if current_user.administrator?%>
                  <div class="col-md-8 col-lg-12">
                    <div class="field form-group">
                      <%= form.label 'Utilisateur lié au dossier' %>
                      <div class="input-group">
                        <%= form.select :hunter, @lastnames, {required: true}, {class: "custom-select"} %>
                      </div>
                    </div>
                  </div>
                <%end%>
              </div>
            </fieldset>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-md">
            <div class="actions text-left">
              <%= link_to "Retour", :back, class: "btn btn-outline-secondary" %>
            </div>
          </div>
          <div class="col-md">
            <div class="actions text-right">
              <%= form.submit @s_button_submit, class: "btn btn-outline-primary" %>
            </div>
          </div>
        </div>
      <%end%>
    </div>
  </div>
</section>          